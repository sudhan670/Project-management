<div class="my-3">
  <%= link_to "Back", projects_path, class: 'btn btn-dark mr-2' %>
</div>

<div class="card mb-4">
  <div class="card-body">
    <h2 class="card-title d-flex justify-content-between mb-4">
      <span><%= @project.name %></span>
      <div>
        <%= link_to "Edit", edit_project_path(@project), class: 'btn btn-primary mr-2' %>
        <%= button_to "Destroy", @project, method: :delete, class: 'btn btn-danger', data: { confirm: 'Are you sure?' } %>
      </div>
    </h2>

    <%= link_to 'New Task', new_project_task_path(@project.id), class: 'btn btn-success' %>
  </div>
</div>

<%= render @project %>

<h2 class="mb-3">Listing Tasks</h2>

<table class="table table-striped table-bordered">
  <thead class="thead-dark">
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Status</th>
      <th>Project</th>
      <th colspan="3" class="text-center">Actions</th>
    </tr>
  </thead>
  <div class='new'>
  <tbody>
    <% @project.tasks.each do |task| %>
      <% if task.persisted? %>
        <tr>
          <td><%= task.name %></td>
          <td><%= task.description %></td>
          <td><%= task.status %></td>
          <td><%= task.project.name %></td>
          <td>
            <%= link_to 'Show', [task.project, task], class: 'btn btn-sm btn-light' %>
          </td>
          <td>
            <%= link_to 'Edit', edit_project_task_path(task.project, task), class: 'btn btn-sm btn-light' %>
          </td>
          <td>
            <%= button_to "Destroy", [task.project, task], method: :delete, class: 'btn btn-sm btn-danger', data: { confirm: 'Are you sure?' } %>
          </td>
        </tr>
      <% end %>
    <% end %>
    </div>
  </tbody>
</table>
